@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Prevent pull-to-refresh on mobile/tablet */
  overscroll-behavior-y: contain;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

/* ===================================
   PWA Fullscreen Optimizations
   =================================== */

/* Remove scrollbar in standalone/fullscreen PWA mode */
@media all and (display-mode: standalone),
       all and (display-mode: fullscreen) {
  /* Hide scrollbar but keep functionality */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.3) transparent;
  }

  *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.3);
    border-radius: 3px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(156, 163, 175, 0.5);
  }

  /* Remove body margins for true fullscreen */
  html, body, #root {
    height: 100%;
    overflow: hidden;
  }

  /* Better touch feedback */
  button, a, [role="button"] {
    -webkit-tap-highlight-color: rgba(37, 99, 235, 0.1);
  }
}

/* ===================================
   Tablet Optimizations (768px - 1024px)
   =================================== */

@media (min-width: 768px) and (max-width: 1024px) {
  /* Larger touch targets for tablet */
  button, a, [role="button"], input[type="checkbox"], input[type="radio"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Optimized font sizes for tablet */
  html {
    font-size: 16px;
  }

  /* Better spacing for tablet */
  .p-2 {
    padding: 0.75rem;
  }

  .p-4 {
    padding: 1.25rem;
  }

  /* Product grid optimization for tablet landscape */
  @media (orientation: landscape) {
    .grid-cols-2.sm\:grid-cols-3.md\:grid-cols-4.lg\:grid-cols-5.xl\:grid-cols-6 {
      grid-template-columns: repeat(5, minmax(0, 1fr));
    }
  }

  /* Product grid optimization for tablet portrait */
  @media (orientation: portrait) {
    .grid-cols-2.sm\:grid-cols-3.md\:grid-cols-4.lg\:grid-cols-5.xl\:grid-cols-6 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }
}

/* ===================================
   Landscape Tablet (1024px and above in landscape)
   =================================== */

@media (min-width: 1024px) and (orientation: landscape) {
  /* Optimize product grid for larger tablets */
  .grid-cols-2.sm\:grid-cols-3.md\:grid-cols-4.lg\:grid-cols-5.xl\:grid-cols-6 {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }
}

/* ===================================
   General Tablet Touch Improvements
   =================================== */

@media (hover: none) and (pointer: coarse) {
  /* Better touch targets */
  button, a, [role="button"] {
    padding: 0.75rem 1rem;
  }

  /* Remove hover effects on touch devices */
  button:hover, a:hover {
    opacity: 1;
  }

  /* Better active state for touch */
  button:active, a:active {
    transform: scale(0.97);
    transition: transform 0.1s ease;
  }

  /* Larger input fields for easier touch */
  input, select, textarea {
    min-height: 48px;
    font-size: 16px; /* Prevents zoom on iOS */
  }
}

/* ===================================
   iOS Specific PWA Fixes
   =================================== */

@supports (-webkit-touch-callout: none) {
  /* iOS safe area insets for devices with notch */
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Prevent iOS rubber band scrolling */
  body {
    position: fixed;
    width: 100%;
  }

  #root {
    height: 100vh;
    overflow: auto;
  }
}

/* ===================================
   Android Specific PWA Fixes
   =================================== */

@media (display-mode: standalone) {
  /* Android status bar color */
  meta[name="theme-color"] {
    content: #2563eb;
  }
}

/* ===================================
   Performance Optimizations
   =================================== */

/* Hardware acceleration for smooth animations */
button, a, [role="button"] {
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Smooth scrolling */
* {
  scroll-behavior: smooth;
}

/* Prevent text selection on buttons (better UX on tablet) */
button, [role="button"] {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
