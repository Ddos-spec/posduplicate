<div class="top-bar">
  <h1 class="page-title">Library</h1>
  <button class="btn btn-primary" id="libraryActionBtn">Create Item</button>
</div>

<div style="padding: 30px;">
  <!-- Sub Navigation -->
  <div class="tabs" style="margin-bottom: 30px;">
    <button class="tab active" onclick="showLibraryTab('items')">Item Library</button>
    <button class="tab" onclick="showLibraryTab('modifiers')">Modifiers</button>
    <button class="tab" onclick="showLibraryTab('categories')">Categories</button>
    <button class="tab" onclick="showLibraryTab('bundle')">Bundle Package</button>
    <button class="tab" onclick="showLibraryTab('promo')">Promo</button>
    <button class="tab" onclick="showLibraryTab('discounts')">Discounts</button>
    <button class="tab" onclick="showLibraryTab('taxes')">Taxes</button>
  </div>

  <!-- Item Library Section -->
  <div id="library-items" class="library-section" style="display: block;">
    <div class="filters">
      <div class="filter-item">
        <select>
          <option>Kebuli Utsman</option>
        </select>
      </div>
      <div class="filter-item">
        <select>
          <option>All Categories</option>
          <option>Minuman</option>
          <option>Makanan</option>
        </select>
      </div>
      <div class="filter-item">
        <select>
          <option>All Inventory</option>
        </select>
      </div>
      <div class="filter-item">
        <input type="text" placeholder="Search">
      </div>
    </div>

    <div class="table-container" style="margin-top: 20px;">
      <div class="table-header">
        <div class="table-title">Total: 25</div>
      </div>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Category</th>
            <th>Pricing</th>
            <th>In Stock</th>
            <th>Stock Alert</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Air Mineral</td>
            <td>Minuman</td>
            <td>Sales Type</td>
            <td>36</td>
            <td></td>
          </tr>
          <tr>
            <td>Ayam Kebuli Perpotong</td>
            <td>Makanan</td>
            <td>Sales Type</td>
            <td>-</td>
            <td></td>
          </tr>
          <tr>
            <td>Es Jeruk</td>
            <td>Minuman</td>
            <td>Sales Type</td>
            <td>-</td>
            <td></td>
          </tr>
          <tr>
            <td>Kambing Kebuli Perpotong</td>
            <td>Makanan</td>
            <td>Sales Type</td>
            <td>-</td>
            <td></td>
          </tr>
          <tr>
            <td>loyang mix 3 ayam 2 kambing</td>
            <td>Makanan</td>
            <td>Sales Type</td>
            <td>-</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Modifiers Section -->
  <div id="library-modifiers" class="library-section" style="display: none;">
    <div class="filters">
      <div class="filter-item">
        <select>
          <option>Kebuli Utsman</option>
        </select>
      </div>
      <div class="filter-item">
        <input type="text" placeholder="Search modifiers...">
      </div>
    </div>

    <div class="table-container" style="margin-top: 20px;">
      <div class="table-header">
        <div class="table-title">Total: 5</div>
      </div>
      <table>
        <thead>
          <tr>
            <th>Modifier Name</th>
            <th>Type</th>
            <th>Options</th>
            <th>Price Range</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Extra Topping</td>
            <td>Multiple Choice</td>
            <td>5 options</td>
            <td>Rp. 5.000 - Rp. 15.000</td>
            <td><span class="badge badge-success">Active</span></td>
          </tr>
          <tr>
            <td>Level Pedas</td>
            <td>Single Choice</td>
            <td>3 options</td>
            <td>Free</td>
            <td><span class="badge badge-success">Active</span></td>
          </tr>
          <tr>
            <td>Ukuran Porsi</td>
            <td>Single Choice</td>
            <td>3 options</td>
            <td>Rp. 0 - Rp. 20.000</td>
            <td><span class="badge badge-success">Active</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Categories Section -->
  <div id="library-categories" class="library-section" style="display: none;">
    <div class="filters">
      <div class="filter-item">
        <select>
          <option>Kebuli Utsman</option>
        </select>
      </div>
      <div class="filter-item">
        <input type="text" placeholder="Search categories...">
      </div>
    </div>

    <div class="table-container" style="margin-top: 20px;">
      <div class="table-header">
        <div class="table-title">Total: 2</div>
      </div>
      <table>
        <thead>
          <tr>
            <th>Category Name</th>
            <th>Items</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Minuman</td>
            <td>8 items</td>
            <td><span class="badge badge-success">Active</span></td>
          </tr>
          <tr>
            <td>Makanan</td>
            <td>17 items</td>
            <td><span class="badge badge-success">Active</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Bundle Section -->
  <div id="library-bundle" class="library-section" style="display: none;">
    <div class="empty-state">
      <i data-lucide="package"></i>
      <p>No Bundle Packages Created</p>
      <small>Create bundle packages to offer combo deals to your customers</small>
    </div>
  </div>

  <!-- Promo Section -->
  <div id="library-promo" class="library-section" style="display: none;">
    <div class="tabs">
      <button class="tab active">Active</button>
      <button class="tab">Scheduled</button>
      <button class="tab">Expired</button>
    </div>
    <div class="empty-state">
      <i data-lucide="tag"></i>
      <p>No Active Promotions</p>
      <small>Create promotions to boost your sales</small>
    </div>
  </div>

  <!-- Discounts Section -->
  <div id="library-discounts" class="library-section" style="display: none;">
    <div class="empty-state">
      <i data-lucide="percent"></i>
      <p>No Discounts Configured</p>
      <small>Set up discounts for your items</small>
    </div>
  </div>

  <!-- Taxes Section -->
  <div id="library-taxes" class="library-section" style="display: none;">
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Tax Name</th>
            <th>Rate</th>
            <th>Type</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>PB1</td>
            <td>10%</td>
            <td>Percentage</td>
            <td><span class="badge badge-success">Active</span></td>
          </tr>
          <tr>
            <td>Service Charge</td>
            <td>5%</td>
            <td>Percentage</td>
            <td><span class="badge badge-success">Active</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
function showLibraryTab(tabName) {
  // Hide all sections
  document.querySelectorAll('.library-section').forEach(section => {
    section.style.display = 'none';
  });

  // Show selected section
  document.getElementById('library-' + tabName).style.display = 'block';

  // Update active tab
  const tabs = event.target.closest('.tabs').querySelectorAll('.tab');
  tabs.forEach(tab => tab.classList.remove('active'));
  event.target.classList.add('active');

  // Update action button text
  const btnText = {
    'items': 'Create Item',
    'modifiers': 'Create Modifier',
    'categories': 'Create Category',
    'bundle': 'Create Bundle',
    'promo': 'Create Promo',
    'discounts': 'Create Discount',
    'taxes': 'Add Tax'
  };
  document.getElementById('libraryActionBtn').textContent = btnText[tabName] || 'Create';

  // Reinitialize icons
  if (typeof lucide !== 'undefined') {
    lucide.createIcons();
  }
}
</script>
